@using Microsoft.EntityFrameworkCore
@inject school.Data.ApplicationDbContext _context

<MudTable Items="@tentor" Hover="true" Breakpoint="Breakpoint.Sm">
    <HeaderContent>
        <MudTh>Datum</MudTh>
        <MudTh>Examinator</MudTh>
        <MudTh></MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="Datum">@context.Datum.Value.ToShortDateString()</MudTd>
        <MudTd DataLabel="Examinator">@context.Examinator</MudTd>
        <MudTd>Visa</MudTd>
        <MudTd>
            <MudIconButton OnClick="() => Delete(context)" Icon="@Icons.Material.Filled.Delete" Size="Size.Medium" Class="ma-2"></MudIconButton>
        </MudTd>
    </RowTemplate>
</MudTable>


@code {
    private List<Tentor> tentor = new List<Tentor>();

    public Task Delete(Tentor tentor) {
        _context.Tentor.Remove(tentor);
        _context.SaveChanges();
        Snackbar.Add("Deleted", Severity.Normal);
    }

    protected override async Task OnInitializedAsync()
    {
        tentor = await _context.Tentor.Where(x => x.Kursnamn == "ID1019").ToListAsync();
    }
}
